// =========================================================================
// Copyright 2019 EPAM Systems, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// =========================================================================

using Android.App;
using Android.Content;
using Android.OS;

namespace FlexiMvvm.Views.Core
{
    using Android.Support.V4.App;

    /// <summary>
    /// Defines the contract for a view lifecycle delegate. Can perform custom actions when view's lifecycle method is called.
    /// <para>This interface is intended for internal use by the FlexiMvvm.</para>
    /// </summary>
    public interface IViewLifecycleDelegate
    {
        /// <summary>
        /// Can perform custom actions when <see cref="Activity.OnCreate(Bundle)"/> or <see cref="Fragment.OnCreate(Bundle)"/> method is called.
        /// </summary>
        /// <param name="savedInstanceState">
        /// If the activity is being re-initialized after previously being shut down then this <paramref name="savedInstanceState"/> contains the data
        /// it most recently supplied in <see cref="Activity.OnSaveInstanceState(Bundle)"/>. Can be <see langword="null"/>.
        /// </param>
        void OnCreate(Bundle? savedInstanceState);

        /// <summary>
        /// Can perform custom actions when <see cref="Activity.OnStart"/> or <see cref="Fragment.OnStart"/> method is called.
        /// </summary>
        void OnStart();

        /// <summary>
        /// Can perform custom actions when <see cref="Activity.OnResume"/> or <see cref="Fragment.OnResume"/> method is called.
        /// </summary>
        void OnResume();

        /// <summary>
        /// Can perform custom actions when <see cref="DialogFragment.OnDismiss(IDialogInterface)"/> method is called.
        /// </summary>
        void OnDismiss();

        /// <summary>
        /// Can perform custom actions when <see cref="Activity.OnPause"/> or <see cref="Fragment.OnPause"/> method is called.
        /// </summary>
        void OnPause();

        /// <summary>
        /// Can perform custom actions when <see cref="Activity.OnStop"/> or <see cref="Fragment.OnStop"/> method is called.
        /// </summary>
        void OnStop();

        /// <summary>
        /// Can perform custom actions when <see cref="INavigationView{TViewModel}.SetResult(Result, Intent)"/> method is called.
        /// </summary>
        /// <param name="resultCode">Determines whether the result should be set as successful or not due to cancellation by the user.</param>
        /// <param name="data">Contains a set of key/value pairs that is used as source data for the view model result. Can be <see langword="null"/>.</param>
        void SetResult(Result resultCode, Intent? data);

        /// <summary>
        /// Can perform custom actions when <see cref="Activity.OnActivityResult(int, Result, Intent?)"/> or <see cref="Fragment.OnActivityResult(int, int, Intent?)"/> method is called.
        /// </summary>
        /// <param name="requestCode">A unique numeric code generated by the <see cref="INavigationView{TViewModel}.RequestCode"/> property.</param>
        /// <param name="resultCode">Determines whether the view model result is set successfully or not due to cancellation by the user.</param>
        /// <param name="data">Contains a set of key/value pairs that is used as source data for the view model result. Can be <see langword="null"/>.</param>
        void OnActivityResult(int requestCode, Result resultCode, Intent? data);

        /// <summary>
        /// Can perform custom actions when <see cref="Activity.OnSaveInstanceState(Bundle)"/> or <see cref="Fragment.OnSaveInstanceState(Bundle)"/> method is called.
        /// </summary>
        /// <param name="outState">The bundle in which to place your saved state.</param>
        void OnSaveInstanceState(Bundle outState);

        /// <summary>
        /// Can perform custom actions when <see cref="Fragment.OnDestroyView"/> method is called.
        /// </summary>
        void OnDestroyView();

        /// <summary>
        /// Can perform custom actions when <see cref="Activity.OnDestroy"/> or <see cref="Fragment.OnDestroy"/> method is called.
        /// </summary>
        void OnDestroy();
    }
}
